"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".get-link");e.length>0&&e.forEach(e=>{e.setAttribute("href",e.getAttribute("href")+window.location.search)});const t=document.querySelector(".footer__btn-trigger");t.addEventListener("click",()=>{t.classList.toggle("active"),t.classList.contains("active")?t.innerText="Скрыть":t.innerText="Регистрация";document.querySelector(".footer").classList.toggle("active"),document.body.classList.toggle("lock")});const o=document.documentElement,n=document.getElementById("hero-lightpass"),i=n.getContext("2d"),c=document.querySelector(".lol1"),r=document.querySelector(".hero"),a=e=>`../img/animation1/${e.toString().padStart(4,"0")}.jpg`,d=new Image;d.src=a(1),n.width=600,n.height=1080,d.onload=function(){i.drawImage(d,0,0)};function l(e,t,o){e===document&&(e=document.scrollingElement||document.documentElement||document.body.parentNode||document.body);var n=!1,i=e.scrollTop,c=e===document.body&&document.documentElement?document.documentElement:e;function r(o){o.preventDefault();var r=function(e){return e.detail?e.wheelDelta?e.wheelDelta/e.detail/40*(e.detail>0?1:-1):-e.detail/3:e.wheelDelta/120}(o);i+=-r*t,i=Math.max(0,Math.min(i,e.scrollHeight-c.clientHeight)),n||a()}function a(){n=!0;var t=(i-e.scrollTop)/o;e.scrollTop+=t,Math.abs(t)>.5?d(a):n=!1}e.addEventListener("mousewheel",r,{passive:!1}),e.addEventListener("DOMMouseScroll",r,{passive:!1});var d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,20)}}var s,m;window.addEventListener("scroll",()=>{const e=(o.scrollTop-r.scrollHeight)/(c.scrollHeight-window.innerHeight),t=Math.min(21,Math.ceil(22*e));requestAnimationFrame(()=>{return e=t+1,d.src=a(e),void i.drawImage(d,0,0);var e})}),(()=>{for(let e=1;e<22;e++){(new Image).src=a(e)}})(),new l(document,60,12),s=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(m=new Image).onload=m.onerror=function(){s(2==m.height)},m.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"});